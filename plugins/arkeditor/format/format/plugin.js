/**
 * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or http://ckeditor.com/license
 */
CKEDITOR.plugins.add("format",{requires:"richcombo",lang:"en,en-gb,de,es,fi,fr,he,hu,it,pt,nl,ru,zh-cn",init:function(n){var u,f,l,e;if(!n.blockless){var i=n.config,r=n.lang.format,s=i.format_tags.split(";"),a=i.format_tags_texts.split(";"),o={},t={},h=0,c=[];for(u=0;u<s.length;u++)f=s[u],l=a[u],o[f]=l,e=new CKEDITOR.style(i["format_"+f]),(!n.filter.customConfig||n.filter.check(e))&&(h++,t[f]=e,t[f]._.enterMode=n.config.enterMode,c.push(e));h!==0&&n.ui.addRichCombo("Format",{label:r.label,title:r.panelTitle,toolbar:"styles,20",allowedContent:c,panel:{css:[CKEDITOR.skin.getPath("editor")].concat(i.contentsCss),multiSelect:!1,attributes:{"aria-label":r.panelTitle}},init:function(){var n,u;this.startGroup(r.panelTitle);for(n in t)u=r["tag_"+n],(!u||i.format_force_useDefaultText)&&(u=o[n]),this.add(n,t[n].buildPreview(u),u)},onClick:function(i){n.focus();n.fire("saveSnapshot");var r=t[i],u=n.elementPath();n[r.checkActive(u,n)?"removeStyle":"applyStyle"](r);setTimeout(function(){n.fire("saveSnapshot")},0)},onRender:function(){n.on("selectionChange",function(r){var e=this.getValue(),s=r.data.path,u,f;this.refresh();for(u in t)if(t[u].checkActive(s,n)){f=n.lang.format["tag_"+u];(!f||i.format_force_useDefaultText)&&(f=o[u]);u!=e&&this.setValue(u,f);return}this.setValue("")},this)},onOpen:function(){var i,r;this.showAll();for(i in t)r=t[i],n.activeFilter.check(r)||this.hideItem(i)},refresh:function(){var i=n.elementPath(),r;if(i){if(!i.isContextFor("p")){this.setState(CKEDITOR.TRISTATE_DISABLED);return}for(r in t)if(n.activeFilter.check(t[r]))return;this.setState(CKEDITOR.TRISTATE_DISABLED)}}})}}});CKEDITOR.config.format_tags="p;h1;h2;h3;h4;h5;h6;pre;address;div";CKEDITOR.config.format_p={element:"p"};CKEDITOR.config.format_div={element:"div"};CKEDITOR.config.format_pre={element:"pre"};CKEDITOR.config.format_address={element:"address"};CKEDITOR.config.format_h1={element:"h1"};CKEDITOR.config.format_h2={element:"h2"};CKEDITOR.config.format_h3={element:"h3"};CKEDITOR.config.format_h4={element:"h4"};CKEDITOR.config.format_h5={element:"h5"};CKEDITOR.config.format_h6={element:"h6"};CKEDITOR.config.format_tags_texts="Normal,Heading 1,Heading 2,Heading 3,Heading 4,Heading 5,Heading 6,Formatted,Address,Normal (DIV)"