var InputMenuType=api.InputMenuType=extendReactClass('MixinInput',{getDefaultProps:function(){return{getMenuList:api.urls.ajaxBase+'&action=getMenuType'};},getInitialState:function(){return{value:this.props.value,options:[],language:'*',languages:[]};},componentWillMount:function(){api.__parent__();this.loading=true;api.Ajax.request(this.props.getMenuList,function(req){var response=req.responseJSON;this.loading=false;if(response.type=='success'){this.setState({options:response.data});if(response.data.length&&this.state.value==''){this.change(this.props.setting,response.data[0].value);}}}.bind(this));},render:function(){var options=[],selected,disabled;if(this.loading){options.push(React.createElement('option',{value:''},api.Text.parse('loading')));}this.state.options.map(option=>{if(!this.state.language&&this.state.value==option.value){this.state.language=option.language;}if(this.state.languages.indexOf(option.language)<0){this.state.languages.push(option.language);}});this.state.options.map(option=>{selected=this.state.value==option.value?true:false;disabled=false;if(this.state.languages.length>1){if(this.state.language!='*'&&this.state.language!=option.language){disabled=true;}}options.push(React.createElement('option',{value:option.value,selected:selected,disabled:disabled},option.text));});return React.createElement('div',{key:this.props.id||api.Text.toId()},this.state.languages.length>1?React.createElement('div',{className:'form-group '+(this.props.control.className?this.props.control.className:'')},React.createElement('label',null,api.Text.parse('language'),React.createElement(api.ElementTooltip,{hint:api.Text.parse('filter-menu-items-by-language',true)})),React.createElement('select',{ref:'filter',className:'form-control language-filter'},this.state.languages.map(lang=>{return React.createElement('option',{value:lang,selected:lang==this.state.language?true:false},api.Text.parse(lang=='*'?'all':lang));}))):null,React.createElement('div',{className:'form-group '+(this.props.control.className?this.props.control.className:'')},React.createElement('label',null,this.label,this.tooltip),React.createElement('select',{ref:'field',name:this.props.setting,onChange:this.change,className:'form-control'},options)));},initActions:function(){api.__parent__();if(this.refs.field&&!this._initialized_chosen){this.initChosen({disable_search:false,display_disabled_options:false},true);this._initialized_chosen=true;}if(this.refs.filter&&!this.refs.filter._listened_changeEvent){jQuery(this.refs.filter).on('change',function(event){this.setState({language:event.target.options[event.target.selectedIndex].value});}.bind(this));this.refs.filter._listened_changeEvent=true;}}});